<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>aEye Universal — Detection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#111111">

  <link rel="manifest" href="/static/manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="aEye">
  <link rel="apple-touch-icon" href="/static/icons/icon-192.png">

  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; background:#111; color:#eee; }
    .wrap { display:flex; flex-direction:column; gap:14px; padding:14px; }
    .card { background:#1b1b1b; border-radius:16px; padding:14px; }
    .muted { color:#aaa; font-size:14px; margin-bottom:6px; }
    video, img { width:100%; border-radius:14px; max-height:60vh; object-fit:contain; background:#000; }
    button { font-size:20px; padding:16px; border-radius:14px; border:none; background:#2d7cff; color:white; width:100%; margin-top:12px; }
    button:active { background:#1f5fd1; }
    #lastSpeech { font-size:18px; margin-top:12px; }
    pre { white-space:pre-wrap; font-size:12px; max-height:35vh; overflow-y:auto; background:#111; padding:10px; border-radius:12px; }
    a.back { color:#bbb; text-decoration:none; display:inline-block; margin-bottom:10px; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <a class="back" href="/">← Back</a>

      <div class="muted">Camera</div>
      <video id="cam" autoplay playsinline muted></video>

      <div class="muted" style="margin-top:10px;">Detections (annotated)</div>
      <img id="annotated" />

      <canvas id="grab" style="display:none;"></canvas>

      <button id="startCam">Start Camera</button>
    </div>

    <div class="card">
      <h2 style="margin-top:0;">Controls</h2>
      <button id="enable">Enable Speech</button>
      <button id="speakNow">Speak Now</button>

      <div class="muted" id="lastSpeech" aria-live="polite"></div>

      <h3 class="muted" style="margin-top:12px;">Raw detections</h3>
      <pre id="json"></pre>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
